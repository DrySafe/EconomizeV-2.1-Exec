<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciamento de Produtos</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">
                <img src="/images/logo.png" alt="Logo da Empresa">
            </div>
            <h1>Gerenciamento de Produtos</h1>
        </div>
        <div class="form-container">
            <form id="productForm">
                <div class="form-group">
                    <label for="codigo">Código do Produto:</label>
                    <input type="text" id="codigo" required>
                </div>
                <div class="form-group">
                    <label for="produto">Nome do Produto:</label>
                    <input type="text" id="produto" required>
                </div>
                <div class="form-group">
                    <label for="valor">Valor do Produto:</label>
                    <input type="text" id="valor" placeholder="R$ 0,00" required>
                </div>
                <div class="form-group">
                    <label for="quantidade">Quantidade:</label>
                    <input type="number" id="quantidade" required>
                </div>
                <div class="form-group">
                    <label for="motivo">Motivo:</label>
                    <select id="motivo" required>
                        <option value="">Selecione...</option>
                        <option value="VENCIDO">VENCIDO</option>
                        <option value="USO LOJA">USO LOJA</option>
                        <option value="AVARIADO">AVARIADO</option>
                        <option value="RESTAURANTE">RESTAURANTE</option>
                    </select>
                </div>
                <div class="form-group" id="dataVencimentoGroup" style="display: none;">
                    <label for="dataVencimento">Data de Vencimento (DD/MM/AAAA):</label>
                    <input type="date" id="dataVencimento">
                </div>
                <div class="form-group">
                    <label for="usuario">Usuário:</label>
                    <input type="text" id="usuario" required>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn-primary">Adicionar Produto</button>
                </div>
            </form>
        </div>
        <div class="table-container">
            <h2>Produtos Adicionados</h2>
            <table id="productTable">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Código</th>
                        <th>Valor</th>
                        <th>Produto</th>
                        <th>Qtd.</th>
                        <th>Motivo</th>
                        <th>Data<br>Venc.</th>
                        <th>Status<br>Venc.</th>
                        <th>Usuário</th>
                        <th>Data<br>Criação</th>
                        <th>Última<br>Modif.</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
            <div class="export-reset-container">
                <button id="exportExcelButton" class="btn-primary">Exportar para Excel</button>
                <button id="resetButton" class="btn-danger">Resetar Lista de Produtos</button>
            </div>
            
        </div>
    </div>
    
    <script src="js/form-handler.js" type="module"></script>
    <script src="js/table-handler.js" type="module"></script>
    <script src="js/autocomplete.js" type="module"></script>
    <script src="js/export-handler.js" type="module"></script>
    <script src="js/event-listeners.js" type="module"></script>
    <script src="js/initialization.js" type="module"></script>
    <script>
    document.getElementById('valor').addEventListener('input', function (e) {
        let v = e.target.value.replace(/\D/g, '');
        v = (Number(v) / 100).toFixed(2) + '';
        v = v.replace('.', ',');
        v = v.replace(/\B(?=(\d{3})+(?!\d))/g, '.');
        e.target.value = 'R$ ' + v;
      });
    </script>
</body>
</html>